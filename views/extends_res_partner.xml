<openerp>
  <data>
    <!-- Vista Form Partner Page Buro ROL -->

    <record id="partner_rol_form_inherited"  model="ir.ui.view">
      <field name="name">Extension Partner rol form</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="arch" type="xml">
        <xpath expr="//page[2]" position='after'>
          <page string='Riesgo Online' groups="financiera_buro_rol_base.manager">
						<notebook>
              <page string="Informes">
								<group>
									<group col="1">
										<field name="rol_informe_ids">
											<tree>
												<field name="create_date" string="Fecha"/>
												<field name="variable_ids" readonly='1'>
													<tree>
														<!-- <field name="sub_name"/> -->
														<field name="name"/>
														<field name="valor"/>
														<field name="tipo"/>
													</tree>
												</field>
											</tree>
										</field>
									</group>
									<group col="1">
										<field name="rol_validador_identidad_id"/>
									</group>
								</group>
              </page>
            </notebook>
          </page>
        </xpath>
      </field>
    </record>


    <!-- Perfil Principal del cliente Group Risk -->

    <record id="partner_form_inherited"  model="ir.ui.view">
      <field name="name">Extension Partner rol form</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="financiera_prestamos.partner_form_inherited"/>
      <field name="arch" type="xml">
        <xpath expr="//group[@name='risk']" position="inside">
          <group name='rol' string="Riesgo Online" col="1" style="background-color: #E6E6E6">
            <field name="rol_variable_ids">
							<tree limit="10">
								<!-- <field name="sub_name"/> -->
								<field name="name"/>
								<field name="valor"/>
								<field name="tipo"/>
							</tree>
						</field>
						<group col="2">
							<group col="1">
								<field name="rol_capacidad_pago_mensual" readonly="1"/>
							</group>
							<group col="1">
								<field name="rol_partner_tipo_id" readonly="1"/>
							</group>
						</group>
            <separate col="1"/>
            <group name='rol_button_action' col="2">
              <button name="button_solicitar_informe_rol" string="Solicitar informe" type="object" confirm="Desea solicitar el informe?"/>
              <button name="button_consultar_informe_rol" string="Consultar informe" type="object" confirm="Desea consultar el informe?"/>
							<button name="button_descargar_informe_rol" string="Descargar informe" type="object"/>
							<button name="obtener_preguntas_rol" string="Obtener preguntas ROL" type="object"/>
							<button name="button_asignar_identidad_rol" string="Asignar identidad ROL" type="object"/>
							<button name="button_asignar_cpm_y_tipo_rol" string="Asignar CPM y Tipo ROL" type="object"/>
							<button name="check_cdas_rol" string="Ejecutar CDAs ROL" type="object"/>
            </group>
          </group>
        </xpath>
      </field>
    </record>

    <!-- Vista Form Riesgo Crediticio -->

    <record id="financiera_res_partner_scoring_form_inherit"  model="ir.ui.view">
      <field name="name">Extension Partner rol form</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="financiera_prestamos.financiera_res_partner_scoring_form"/>
      <field name="arch" type="xml">
        <xpath expr="//group[@name='risk']" position="after">
          <group string="Riesgo Online" col="1" style="background-color: #E6E6E6">
            <group col="1" attrs="{'invisible': [('rol_cuit', '=', False)]}">
              <group col="2">
                <field name="rol_fecha_informe" readonly="1"/>
                <field name="rol_perfil_letra" readonly="1"/>
              </group>
              <field name="rol_perfil_texto" readonly="1"/>
              <group col="2">
                <group col="1">
                  <field name="rol_name" readonly="1"/>
                </group>
                <group col="1">
                  <field name="rol_cuit" readonly="1"/>
                </group>
              </group>
              <button name="button_asignar_identidad_rol" string="Asignar identidad ROL al Cliente" attrs="{'invisible': ['|', ('rol_cuit', '=', False), ('rol_name', '=', False)]}" type="object" confirm="Desea confirmar?"/>
              <field name="rol_domicilio" readonly="1"/>
              <button name="button_asignar_domicilio_rol" string="Asignar domicilio ROL al Cliente" attrs="{'invisible': [('rol_domicilio', '=', False)]}" type="object" confirm="Desea confirmar?"/>
              <group col="2">
                <group col="1">
                  <label for="rol_experto_nombre" string="Modelo evaluado"/>
                  <div>
                    <field name="rol_experto_nombre" class="oe_inline" readonly="1"/> | 
                    <field name="rol_experto_codigo" class="oe_inline" readonly="1"/>
                  </div>
                </group>
                <group col="1">
                  <field name="rol_experto_resultado" readonly="1"/>
                </group>
              </group>
              <group col="2">
                <group col="1">
                  <field name="rol_capacidad_pago_mensual" readonly="1"/>
                </group>
                <group col="1">
                  <field name="rol_partner_tipo_id" readonly="1"/>
                </group>
              </group>
              <button name="button_asignar_cpm_y_tipo_rol" string="Asignar tipo y CPM ROL al Cliente" type="object" confirm="Desea confirmar?"/>
              <group col="2">
                <group col="1">
                  <field name="rol_experto_ingreso" readonly="1"/>
                </group>
                <group col="1">
                  <field name="rol_experto_compromiso_mensual" readonly="1"/>
                </group>
              </group>
            </group>
            <separate col="1"/>
            <group col="2">
              <button name="button_solicitar_informe_rol" string="Solicitar informe" type="object" confirm="Desea solicitar el informe?"/>
              <button name="button_consultar_informe_rol" string="Consultar informe" type="object" confirm="Desea consultar el informe?"/>
            </group>
          </group>
        </xpath>
      </field>
		</record>
		
		<!-- Extends res.partner Cobranza y Seguimiento
				Vista en Menu Deudores -->

		<record id="cobranza_mora_cliente_sesion_form"  model="ir.ui.view">
      <field name="name">cobranza.mora.form.extends</field>
			<field name="model">res.partner</field>
			<field name="inherit_id" ref="financiera_cobranza_mora.cobranza_mora_cliente_sesion_form"/>
      <field name="arch" type="xml">
				<xpath expr="//field[@name='cobranza_disponible']" position="after">
					<field name="rol_name" invisible="1"/>
					<!-- <button name="button_actualizar_rol_actual" string="Actualizar datos ROL" 
						type="object" attrs="{'invisible': [('rol_name', '!=', False)]}"/> -->
					<field name="rol_id" invisible="1"/>
				</xpath>
				<xpath expr="//page[1]" position="after">
					<page name="domicilio" string="Domicilios (ROL)" 
						attrs="{'invisible': [('rol_name', '=', False)]}">
						<field name="domicilio_ids" readonly="1">
							<tree limit="4">
								<field name="tipo"/>
								<field name="domicilio"/>
							</tree>
						</field>
					</page>
					<page name="telefono" string="Telefono (ROL)"
						attrs="{'invisible': [('rol_name', '=', False)]}">
						<field name="telefono_ids" readonly="1">
							<tree limit="4">
								<field name="titular"/>
								<field name="domicilio"/>
								<field name="numero"/>
							</tree>
						</field>
					</page>
					<page name="personas_igual_domicilio" string="Personas igual domicilio (ROL)"
						attrs="{'invisible': [('rol_name', '=', False)]}">
						<field name="personas_igual_domicilio_ids" readonly="1">
								<tree limit="4">
									<field name="nombre"/>
									<field name="rol_id" string="CUIT"/>
									<field name="sexo"/>
									<field name="domicilio"/>
									<field name="relacion"/>
								</tree>
							</field>
					</page>
					<page name="personas_relacionada" string="Personas relacionadas (ROL)"
						attrs="{'invisible': [('rol_name', '=', False)]}">
						<field name="personas_relacionada_ids" readonly="1">
							<tree limit="4">
								<field name="nombre"/>
								<field name="rol_id" string="CUIT"/>
								<field name="sexo"/>
								<field name="domicilio"/>
								<field name="relacion"/>
							</tree>
						</field>
					</page>
					<page name="vecinos" string="Vecinos (ROL)"
						attrs="{'invisible': [('rol_name', '=', False)]}">
						<field name="vecino_ids" readonly="1">
							<tree limit="4">
								<field name="titular"/>
								<field name="domicilio"/>
								<field name="numero"/>
							</tree>
						</field>
					</page>
				</xpath>
      </field>
		</record>
		
		<!-- Extends res.partner Cobranza y Seguimiento SESION -->

		<record id="cobranza_mora_cliente_sesion_form"  model="ir.ui.view">
      <field name="name">cobranza.mora.form.extends</field>
			<field name="model">res.partner</field>
			<field name="inherit_id" ref="financiera_cobranza_mora.cobranza_mora_cliente_sesion_form"/>
      <field name="arch" type="xml">
				<xpath expr="//field[@name='email']" position="after">
					<field name="rol_name" invisible="1"/>
					<field name="rol_id" invisible="1"/>
				</xpath>
				<xpath expr="//page[1]" position="after">
					<page name="domicilio" string="Domicilios (ROL)" 
						attrs="{'invisible': [('rol_name', '=', False)]}">
						<field name="domicilio_ids" readonly="1">
							<tree limit="4">
								<field name="tipo"/>
								<field name="domicilio"/>
							</tree>
						</field>
					</page>
					<page name="telefono" string="Telefono (ROL)"
						attrs="{'invisible': [('rol_name', '=', False)]}">
						<field name="telefono_ids" readonly="1">
							<tree limit="4">
								<field name="titular"/>
								<field name="domicilio"/>
								<field name="numero"/>
							</tree>
						</field>
					</page>
					<page name="personas_igual_domicilio" string="Personas igual domicilio (ROL)"
						attrs="{'invisible': [('rol_name', '=', False)]}">
						<field name="personas_igual_domicilio_ids" readonly="1">
								<tree limit="4">
									<field name="nombre"/>
									<field name="rol_id" string="CUIT"/>
									<field name="sexo"/>
									<field name="domicilio"/>
									<field name="relacion"/>
								</tree>
							</field>
					</page>
					<page name="personas_relacionada" string="Personas relacionadas (ROL)"
						attrs="{'invisible': [('rol_name', '=', False)]}">
						<field name="personas_relacionada_ids" readonly="1">
							<tree limit="4">
								<field name="nombre"/>
								<field name="rol_id" string="CUIT"/>
								<field name="sexo"/>
								<field name="domicilio"/>
								<field name="relacion"/>
							</tree>
						</field>
					</page>
					<page name="vecinos" string="Vecinos (ROL)"
						attrs="{'invisible': [('rol_name', '=', False)]}">
						<field name="vecino_ids" readonly="1">
							<tree limit="4">
								<field name="titular"/>
								<field name="domicilio"/>
								<field name="numero"/>
							</tree>
						</field>
					</page>
				</xpath>
      </field>
		</record>
		
	<!-- vista de preguntas para VI -->

		<record id="rol_preguntas_vi_form" model="ir.ui.view">
			<field name="name">rol.validador.identidad.form</field>
			<field name="model">rol.validador.identidad</field>
			<field name="arch" type="xml">
				<form string="Preguntas para validador de identidad" create="false" delete="false" edit="false">
					<sheet>
						<script>
							$(document).ready(function(){
								$('.oe_form_sheet_width').css({'background-color': 'gainsboro'});
							});
						</script>
						<group>
							<field name="partner_id"/>
							<field name="nombre"/>
							<field name="cuit"/>
						</group>
						<notebook>
							<page name="preguntas" string="Preguntas">
								<field name="pregunta_ids" limit="10">
									<tree>
										<field name="pregunta"/>
										<field name="respuesta_ids"/>
									</tree>
									<form>
										<sheet>
											<group>
												<field name="pregunta"/>
												<field name="respuesta_ids">
													<tree>
														<field name="respuesta"/>
														<field name="verdadera"/>
													</tree>
												</field>
											</group>
										</sheet>
									</form>
								</field>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
	</record>

</data>
</openerp>