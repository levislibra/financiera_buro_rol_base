<openerp>
  <data>

    <!-- Lista de informes solicitados -->
    <record model="ir.ui.view" id="financiera_rol_tree">
      <field name="name">financiera.buro.rol.informe.tree</field>
      <field name="model">financiera.buro.rol.informe</field>
      <field name="arch" type="xml">
        <tree create="false" delete="false" edit="false">
          <field name="create_date" string="Fecha"/>
          <field name="tipo"/>
          <field name="partner_id"/>
          <field name="name"/>
          <field name="cuit"/>
          <field name="sexo"/>
          <field name="fecha_nacimiento"/>
          <field name="perfil_letra"/>
          <field name="rol_experto_nombre"/>
          <field name="rol_experto_resultado"/>
          <field name="capacidad_pago_mensual"/>
        </tree>
      </field>
    </record>

    <record model="ir.actions.act_window" id="financiera_rol_informe_action">
      <field name="name">Lista de informes solicitados</field>
      <field name="res_model">financiera.buro.rol.informe</field>
      <field name="view_mode">tree</field>
      <field name="view_id" ref="financiera_rol_tree"/>
    </record>

    <!-- menu categories -->
    
    <menuitem name="Informes" id="menu_informes" sequence="10" parent="menu_rol"/>

    <menuitem name="Informes" id="menu_informes_action" sequence="1" parent="menu_informes" action="financiera_rol_informe_action"/>



    <!-- Vista Form Partner Page Buro ROL -->

    <record id="partner_rol_form_inherited"  model="ir.ui.view">
      <field name="name">Extension Partner rol form</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="arch" type="xml">
        <xpath expr="//page[2]" position='after'>
          <page string='Buro ROL' groups="financiera_buro_rol_base.manager">
            <group>
              <group string="Ultima consulta">
                <field name="rol_domicilio_ids">
                  <tree>
                    <field name="domicilio"/>
                    <field name="tipo"/>
                  </tree>
                </field>
                <field name="rol_telefono_ids">
                  <tree>
                    <field name="telefono"/>
                    <field name="anio_guia"/>
                    <field name="titular"/>
                  </tree>
                </field>
                <field name="rol_actividad_ids">
                  <tree>
                    <field name="actividad_comercial"/>
                    <field name="codigo"/>
                    <field name="formulario"/>
                  </tree>
                </field>
              </group>
              <group string="Informes">
                <field name="buro_rol_informe_ids">
                  <tree>
                    <field name="fecha_informe"/>
                    <field name="rol_id"/>
                    <field name="name"/>
                    <field name="cuit"/>
                    <field name="perfil_letra"/>
                  </tree>
                  <form>
                    <group>
                      <field name="name"/>
                      <field name="cuit"/>
                      <!-- <field name="documento"/> -->
                      <field name="sexo"/>
                      <!-- <field name="clase"/> -->
                      <field name="fecha_nacimiento"/>
                      <field name="fecha_informe"/>
                      <field name="perfil_letra"/>
                      <field name="perfil_texto"/>
                    </group>
                    <notebook>
                      <page string="Domicilios">
                        <field name="domicilio_ids" readonly="1">
                          <tree>
                            <field name="domicilio"/>
                            <field name="tipo"/>
                          </tree>
                        </field>
                      </page>
                      <page string="Telefonos">
                        <field name="telefono_ids" readonly="1">
                          <tree>
                            <field name="telefono"/>
                            <field name="anio_guia"/>
                            <field name="titular"/>
                          </tree>
                        </field>
                      </page>
                      <page string="Actividades AFIP">
                        <field name="actividad_ids" readonly="1">
                          <tree>
                            <field name="actividad_comercial"/>
                            <field name="codigo"/>
                            <field name="formulario"/>
                          </tree>
                        </field>
                      </page>
                    </notebook>
                  </form>
                </field>
              </group>
            </group>
          </page>
        </xpath>
      </field>
    </record>


    <!-- Vista Form Partner Page Buro ROL -->

    <record id="partner_rol_basic_form_inherited"  model="ir.ui.view">
      <field name="name">Extension Partner rol form</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="financiera_prestamos.partner_form_inherited"/>
      <field name="arch" type="xml">
        <xpath expr="//sheet/notebook" position="before">
          <group string="Resumen del informe Riesgo Online" groups="financiera_buro_rol_base.manager">
            <group>
              <label for='button_solicitar_informe'/>
              <button name="button_solicitar_informe" string="Solicitar informe" class="oe_highlight oe_read_only" type="object" confirm="Desea solicitar el informe?"/>
              <label for='button_consultar_informe'/>
              <button name="button_consultar_informe" string="Consultar informe" class="oe_highlight oe_read_only" type="object" confirm="Desea consultar el informe?"/>
              <!-- <field name="rol_modelo"/> -->
              <field name="rol_name" readonly="1"/>
              <field name="rol_cuit" readonly="1"/>
              <label for="asignar_identidad_rol"/><button name="asignar_identidad_rol" string="Asignar identidad ROL al Cliente" class="oe_highlight oe_read_only" attrs="{'invisible': ['|', ('rol_cuit', '=', False), ('rol_name', '=', False)]}" type="object" confirm="Desea confirmar?"/>
              <field name="rol_fecha_informe" readonly="1"/>
              <field name="rol_perfil_letra" readonly="1"/>
              <field name="rol_perfil_texto" readonly="1"/>
              <label for="rol_experto_nombre" string="Modelo evaluado"/>
              <div>
                <field name="rol_experto_nombre" class="oe_inline" readonly="1"/>|
                <field name="rol_experto_codigo" class="oe_inline" readonly="1"/>
              </div>
              <field name="rol_experto_tarjeta" invisible="1"/>
              <field name="rol_experto_puntos" invisible="1"/>
              <field name="rol_experto_ingreso" readonly="1"/>
              <field name="rol_experto_compromiso_mensual" readonly="1"/>
              <field name="rol_experto_resultado" readonly="1"/>
              <!-- <field name="rol_experto_monto_mensual_evaluado" attrs="{'invisible': [('rol_experto_resultado', '=', 'S')]}" readonly="1"/> -->
              <field name="rol_capacidad_pago_mensual" readonly="1"/>
              <field name="rol_partner_tipo_id" readonly="1"/>
            </group>
            <group>
              <field name="rol_experto_detalles_estado" invisible="1"/>
              <field name="rol_experto_detalles_texto" widget="html" readonly="1"/>
            </group>
          </group>
        </xpath>
      </field>
    </record>

  </data>
</openerp>